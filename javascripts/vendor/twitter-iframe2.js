(function(context,document){var useInteractive=context.attachEvent&&!context.opera,scripts=document.getElementsByTagName("script"),uuid=0,scriptTag,scriptTemplate=document.createElement("script"),scriptsInProgress={},modulesInProgress={},loadedModule,currentScript,activeScripts={},oldUsing=context.using,oldProvide=context.provide,oldDefine=context.define,oldLoadrunner=context.loadrunner;for(var i=0,s;s=scripts[i];i++){if(s.src.match(/loadrunner\.js(\?|#|$)/)){scriptTag=s;break}}function aug(target){for(var i=1,o;o=arguments[i];i++){for(var key in o){target[key]=o[key]}}return target}function makeArray(o){return Array.prototype.slice.call(o)}var isArray=Array.isArray||function(obj){return obj.constructor==Array};function indexOf(arr,thing){for(var i=0,item;item=arr[i];i++){if(thing==item){return i}}return-1}function path(){var parts=makeArray(arguments),normalized=[];for(var i=0,len=parts.length;i<len;i++){if(parts[i].length>0){normalized.push(parts[i].replace(/\/$/,""))}}return normalized.join("/")}function pushObjPath(obj,path,newobj){var names=path.split("/"),cursor=obj;while(names.length>1){var name=names.shift();cursor=cursor[name]=cursor[name]||{}}cursor[names[0]]=newobj}function Dependency(){}Dependency.prototype.then=function(cb){var dep=this;if(!this.started){this.started=true;this.start()}if(this.completed){cb.apply(context,this.results)}else{this.callbacks=this.callbacks||[];this.callbacks.push(cb)}return this};Dependency.prototype.start=function(){};Dependency.prototype.complete=function(){if(!this.completed){this.results=makeArray(arguments);this.completed=true;if(this.callbacks){for(var i=0,cb;cb=this.callbacks[i];i++){cb.apply(context,this.results)}}}};function Script(path,force){this.id=this.path=path;this.force=!!force}Script.loaded=[];Script.prototype=new Dependency;Script.prototype.start=function(){var me=this,dep,bundle,module;if(module=modulesInProgress[this.id]){module.then(function(){me.complete()});return this}if(dep=scriptsInProgress[this.id]){dep.then(function(){me.loaded()})}else if(!this.force&&indexOf(Script.loaded,this.id)>-1){this.loaded()}else if(bundle=whichBundle(this.id)){using(bundle,function(){me.loaded()})}else{this.load()}return this};Script.prototype.load=function(){var me=this;scriptsInProgress[this.id]=me;var script=scriptTemplate.cloneNode(false);this.scriptId=script.id="LR"+ ++uuid;script.type="text/javascript";script.async=true;script.onerror=function(){throw new Error(me.path+" not loaded")};script.onreadystatechange=script.onload=function(e){e=context.event||e;if(e.type=="load"||indexOf(["loaded","complete"],this.readyState)>-1){this.onreadystatechange=null;me.loaded()}};script.src=this.path;currentScript=this;scripts[0].parentNode.insertBefore(script,scripts[0]);currentScript=null;activeScripts[script.id]=this};Script.prototype.loaded=function(){this.complete()};Script.prototype.complete=function(){if(indexOf(Script.loaded,this.id)==-1){Script.loaded.push(this.id)}delete scriptsInProgress[this.id];Dependency.prototype.complete.apply(this,arguments)};function Module(id,body){this.id=id;this.body=body;if(typeof body=="undefined"){this.path=this.resolvePath(id)}}Module.exports={};Module.prototype=new Script;Module.prototype.resolvePath=function(id){return path(using.path,id+".js")};Module.prototype.start=function(){var exports,module,me=this,oldCurrent;if(this.body){this.execute()}else if(exports=Module.exports[this.id]){this.exp(exports)}else if(module=modulesInProgress[this.id]){module.then(function(exports){me.exp(exports)})}else if(bundle=whichBundle(this.id)){using(bundle,function(){me.start()})}else{modulesInProgress[this.id]=this;this.load()}};Module.prototype.loaded=function(){var module,exports,me=this;if(!useInteractive){module=loadedModule;loadedModule=null;module.id=module.id||this.id;module.then(function(exports){me.exp(exports)})}else{if(exports=Module.exports[this.id]){this.exp(exports)}else if(module=modulesInProgress[this.id]){module.then(function(exports){me.exp(exports)})}}};Module.prototype.complete=function(){delete modulesInProgress[this.id];Script.prototype.complete.apply(this,arguments)};Module.prototype.execute=function(){var me=this;if(typeof this.body=="object"){this.exp(this.body)}else if(typeof this.body=="function"){this.body.apply(window,[function(exports){me.exp(exports)}])}};Module.prototype.exp=function(exports){this.complete(this.exports=Module.exports[this.id]=exports||{})};function Collection(deps,collectResults){this.deps=deps;this.collectResults=collectResults;if(this.deps.length==0){this.complete()}}Collection.prototype=new Dependency;Collection.prototype.start=function(){var me=this;function depComplete(){var results=[];if(me.collectResults){results[0]={}}for(var i=0,d;d=me.deps[i];i++){if(!d.completed)return;if(d.results.length>0){if(me.collectResults){if(d instanceof Sequence){aug(results[0],d.results[0])}else{pushObjPath(results[0],d.id,d.results[0])}}else{results=results.concat(d.results)}}}me.complete.apply(me,results)}for(var i=0,d;d=this.deps[i];i++){d.then(depComplete)}return this};function Sequence(deps,collectResults){this.deps=deps;this.collectResults=collectResults}Sequence.prototype=new Dependency;Sequence.prototype.start=function(){var me=this,nextDep=0,allResults=[];if(me.collectResults){allResults[0]={}}(function next(){var dep=me.deps[nextDep++];if(dep){dep.then(function(results){if(dep.results.length>0){if(me.collectResults){if(dep instanceof Sequence){aug(allResults[0],dep.results[0])}else{pushObjPath(allResults[0],dep.id,dep.results[0])}}else{allResults.push(dep.results[0])}}next()})}else{me.complete.apply(me,allResults)}})();return this};function interactiveScript(){for(var i in scripts){if(scripts[i].readyState=="interactive"){return activeScripts[scripts[i].id]}}}function defineModule(name,body){var module;if(!name&&useInteractive){module=currentScript||interactiveScript()}if(module){delete activeScripts[module.scriptId];module.body=body;module.execute()}else{loadedModule=module=new Module(name,body);modulesInProgress[module.id]=module}return module}function provide(){var args=makeArray(arguments),name,body;if(typeof args[0]=="string"){name=args.shift()}body=args.shift();return defineModule(name,body)}function amdResolve(id,mod){var from=mod.id||"";var parts=from.split("/");parts.pop();var dir=parts.join("/");return id.replace(/^\./,dir)}function amdMap(args,mod){var mapped=[];function require(id){return Module.exports[amdResolve(id,mod)]}for(var i=0,len=args.length;i<len;i++){if(args[i]=="require"){mapped.push(require);continue}if(args[i]=="exports"){mod.exports=mod.exports||{};mapped.push(mod.exports);continue}mapped.push(require(args[i]))}return mapped}function amdDefine(){var args=makeArray(arguments),dependencies=[],id,factory;if(typeof args[0]=="string"){id=args.shift()}if(isArray(args[0])){dependencies=args.shift()}factory=args.shift();return defineModule(id,function(exports){var me=this,mods=[];function executeAMD(){var args=amdMap(makeArray(dependencies),me),exported;if(typeof factory=="function"){exported=factory.apply(me,args)}else{exported=factory}if(typeof exported=="undefined"){exported=me.exports}exports(exported)}for(var i=0,len=dependencies.length;i<len;i++){var d=dependencies[i];if(indexOf(["require","exports"],d)==-1){mods.push(amdResolve(d,me))}}if(mods.length>0){using.apply(this,mods.concat(executeAMD))}else{executeAMD()}})}amdDefine.amd={};function using(){var deps=makeArray(arguments),callback,collectResults;if(typeof deps[deps.length-1]=="function"){callback=deps.pop()}if(typeof deps[deps.length-1]=="boolean"){collectResults=deps.pop()}var combi=new Collection(mapDependencies(deps,collectResults),collectResults);if(callback){combi.then(callback)}return combi}function mapDependencies(deps,collectResults){var mapped=[];for(var i=0,dep;dep=deps[i];i++){if(typeof dep=="string"){dep=createDependency(dep)}if(isArray(dep)){dep=new Sequence(mapDependencies(dep,collectResults),collectResults)}mapped.push(dep)}return mapped}function createDependency(id){var m,dep;for(var i=0,matcher;matcher=using.matchers[i];i++){var regex=matcher[0],factory=matcher[1];if(m=id.match(regex)){return factory(id)}}throw new Error(id+" was not recognised by loader")}var loadrunner=function(f){return f(using,provide,loadrunner,define)};function noConflict(){context.using=oldUsing;context.provide=oldProvide;context.define=oldDefine;context.loadrunner=oldLoadrunner;return loadrunner}loadrunner.Script=Script;loadrunner.Module=Module;loadrunner.Collection=Collection;loadrunner.Sequence=Sequence;loadrunner.Dependency=Dependency;loadrunner.noConflict=noConflict;context.loadrunner=loadrunner;context.using=using;context.provide=provide;context.define=amdDefine;using.path="";using.matchers=[];using.matchers.add=function(regex,factory){this.unshift([regex,factory])};using.matchers.add(/(^script!|\.js$)/,function(path){var script=new Script(path.replace(/^\$/,using.path.replace(/\/$/,"")+"/").replace(/^script!/,""),false);script.id=path;return script});using.matchers.add(/^[a-zA-Z0-9_\-\/]+$/,function(id){return new Module(id)});using.bundles=[];function whichBundle(id){for(var manifestId=0;manifestId<using.bundles.length;manifestId++){for(var bundleId in using.bundles[manifestId]){if(bundleId!=id&&indexOf(using.bundles[manifestId][bundleId],id)>-1)return bundleId}}}if(scriptTag){using.path=scriptTag.getAttribute("data-path")||scriptTag.src.split(/loadrunner\.js/)[0]||"";if(main=scriptTag.getAttribute("data-main")){using.apply(context,main.split(/\s*,\s*/)).then(function(){})}}})(this,document);;var __twttrlr = loadrunner.noConflict();__twttrlr(function(using, provide, loadrunner, define) {provide("i18n/languages",function(a){a(["hi","zh-cn","fr","zh-tw","msa","fil","fi","sv","pl","ja","ko","de","it","pt","es","ru","id","tr","da","no","nl","hu","fa","ar","ur","he","th"])});provide("util/querystring",function(a){function b(a){return encodeURIComponent(a).replace(/\+/g,"%2B")}function c(a){return decodeURIComponent(a)}function d(a){var c=[],d;for(d in a)a[d]!==null&&typeof a[d]!="undefined"&&c.push(b(d)+"="+b(a[d]));return c.sort().join("&")}function e(a){var b={},d,e,f,g;if(a){d=a.split("&");for(g=0;f=d[g];g++)e=f.split("="),e.length==2&&(b[c(e[0])]=c(e[1]))}return b}function f(a,b){var c=d(b);return c.length>0?a.indexOf("?")>=0?a+"&"+d(b):a+"?"+d(b):a}function g(a){var b=a&&a.split("?");return b.length==2?e(b[1]):{}}a({url:f,decodeURL:g,decode:e,encode:d,encodePart:b,decodePart:c})});provide("util/twitter",function(a){using("util/querystring",function(b){function g(a){return typeof a=="string"&&c.test(a)&&RegExp.$1.length<=20}function h(a){if(g(a))return RegExp.$1}function i(a){var c=b.decodeURL(a);c.screen_name=h(a);if(c.screen_name)return b.url("https://twitter.com/intent/user",c)}function j(a){return typeof a=="string"&&f.test(a)}function k(a,b){b=b===undefined?!0:b;if(j(a))return(b?"#":"")+RegExp.$1}function l(a){return typeof a=="string"&&d.test(a)}function m(a){return l(a)&&RegExp.$1}function n(a){return e.test(a)}var c=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,d=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,e=/^http(s?):\/\/((www\.)?)twitter\.com\//,f=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/;a({isHashTag:j,hashTag:k,isScreenName:g,screenName:h,isStatus:l,status:m,intentForProfileURL:i,isTwitterURL:n,regexen:{profile:c}})})});provide("util/params",function(a){using("util/querystring",function(b){var c=function(a){var c=a.search.substr(1);return b.decode(c)},d=function(a){var c=a.href,d=c.indexOf("#"),e=d<0?"":c.substring(d+1);return b.decode(e)},e=function(a){var b={},e=c(a),f=d(a);for(var g in e)e.hasOwnProperty(g)&&(b[g]=e[g]);for(var g in f)f.hasOwnProperty(g)&&(b[g]=f[g]);return b};a({combined:e,fromQuery:c,fromFragment:d})})});provide("tfw/util/env",function(a){using("util/params",function(b){function d(){var a=36e5,d=b.combined(document.location)._;return c!==undefined?c:(c=!1,d&&/^\d+$/.test(d)&&(c=+(new Date)-parseInt(d)<a),c)}var c;a({isDynamicWidget:d})})});provide("xd/detection",function(a){function b(){try{return!!navigator.plugins["Shockwave Flash"]||!!(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(a){return!1}}a({getFlashEnabled:b,hasPostMessage:!!window.postMessage,isIE:!!navigator.userAgent.match("MSIE")})});provide("util/widgetrpc",function(a){using("xd/detection","tfw/util/env",function(b,c){function k(){if(f)return f;if(!c.isDynamicWidget())return;var a=0,d=parent.frames.length,g;try{f=parent.frames[e];if(f)return f}catch(h){}if(!b.isIE)return;for(;a<d;a++)try{g=parent.frames[a];if(g&&typeof g.openIntent=="function")return f=g}catch(h){}}function l(){var a={};(typeof arguments[0]).toLowerCase()==="function"?a.success=arguments[0]:a=arguments[0];var b=a.success||function(){},d=a.timeout||function(){},e=a.nohub||function(){},f=a.complete||function(){},m=a.attempt!==undefined?a.attempt:j;if(!c.isDynamicWidget()||g)return e(),f(),!1;var n=k();m--;try{if(n&&n.trigger){b(n),f();return}}catch(o){}if(m<=0){g=!0,d(),f();return}if(+(new Date)-h>i*j){g=!0,e();return}window.setTimeout(function(){l({success:b,timeout:d,nohub:e,attempt:m,complete:f})},i)}var d="twttrHubFrameSecure",e=document.location.protocol=="http:"?"twttrHubFrame":d,f,g,h=+(new Date),i=100,j=20;a({withHub:l,contextualHubId:e,secureHubId:d})})});provide("util/decider",function(a){function c(a){var c=b[a]||!1;if(!c)return!1;if(c===!0||c===100)return!0;var d=Math.random()*100,e=c>=d;return b[a]=e,e}var b={force_new_cookie:100,rufous_pixel:100,decider_fixture:12.34};a({isAvailable:c})});provide("util/util",function(a){function b(a){var b=1,c,d;for(;c=arguments[b];b++)for(d in c)if(!c.hasOwnProperty||c.hasOwnProperty(d))a[d]=c[d];return a}function c(a){for(var b in a)a.hasOwnProperty(b)&&(k(a[b])&&(c(a[b]),l(a[b])&&delete a[b]),(a[b]===undefined||a[b]===null||a[b]==="")&&delete a[b]);return a}function d(a,b){var c=0,d;for(;d=a[c];c++)if(b==d)return c;return-1}function e(a,b){if(!a)return null;if(a.filter)return a.filter.apply(a,[b]);if(!b)return a;var c=[],d=0,e;for(;e=a[d];d++)b(e)&&c.push(e);return c}function f(a,b){if(!a)return null;if(a.map)return a.map.apply(a,[b]);if(!b)return a;var c=[],d=0,e;for(;e=a[d];d++)c.push(b(e));return c}function g(a){return a&&a.replace(/(^\s+|\s+$)/g,"")}function h(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function i(a){return a&&String(a).toLowerCase().indexOf("[native code]")>-1}function j(a,b){if(a.contains)return a.contains(b);var c=b.parentNode;while(c){if(c===a)return!0;c=c.parentNode}return!1}function k(a){return a===Object(a)}function l(a){if(!k(a))return!1;if(Object.keys)return!Object.keys(a).length;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}a({aug:b,compact:c,containsElement:j,filter:e,map:f,trim:g,indexOf:d,isNative:i,isObject:k,isEmptyObject:l,toType:h})});provide("dom/cookie",function(a){using("util/util",function(b){a(function(a,c,d){var e=b.aug({},d);if(arguments.length>1&&String(c)!=="[object Object]"){if(c===null||c===undefined)e.expires=-1;if(typeof e.expires=="number"){var f=e.expires,g=new Date((new Date).getTime()+f*60*1e3);e.expires=g}return c=String(c),document.cookie=[encodeURIComponent(a),"=",e.raw?c:encodeURIComponent(c),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("")}e=c||{};var h,i=e.raw?function(a){return a}:decodeURIComponent;return(h=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)")).exec(document.cookie))?i(h[1]):null})})});provide("util/donottrack",function(a){using("dom/cookie",function(b){a(function(a){var c=/\.(gov|mil)(:\d+)?$/i,d=/https?:\/\/([^\/]+).*/i;return a=a||document.referrer,a=d.test(a)&&d.exec(a)[1],b("dnt")?!0:c.test(document.location.host)?!0:a&&c.test(a)?!0:document.navigator?document.navigator["doNotTrack"]==1:navigator?navigator["doNotTrack"]==1||navigator["msDoNotTrack"]==1:!1})})});provide("tfw/util/guest_cookie",function(a){using("dom/cookie","util/donottrack","util/decider",function(b,c,d){function f(){var a=b(e)||!1;if(!a)return;a.match(/^v3\:/)||g()}function g(){b(e)&&b(e,null,{domain:".twitter.com",path:"/"})}function h(){c()&&g()}var e="pid";a({set:h,destroy:g,forceNewCookie:f,guest_id_cookie:e})})});provide("$xd/json2.js", function(exports) {window.JSON||(window.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();exports();loadrunner.Script.loaded.push("$xd/json2.js")});provide("util/typevalidator",function(a){using("util/util",function(b){function c(a){return a!==undefined&&a!==null&&a!==""}function d(a){return f(a)&&a%1===0}function e(a){return f(a)&&!d(a)}function f(a){return c(a)&&!isNaN(a)}function g(a){return c(a)&&b.toType(a)=="array"}function h(a){if(!c(a))return!1;switch(a){case"on":case"ON":case"true":case"TRUE":return!0;case"off":case"OFF":case"false":case"FALSE":return!1;default:return!!a}}function i(a){if(f(a))return a}function j(a){if(e(a))return a}function k(a){if(d(a))return a}a({hasValue:c,isInt:d,isFloat:e,isNumber:f,isArray:g,asInt:k,asFloat:j,asNumber:i,asBoolean:h})})});provide("tfw/util/globals",function(a){using("util/typevalidator",function(b){function d(){var a=document.getElementsByTagName("meta"),b,d,e=0;c={};for(;b=a[e];e++){if(!/^twitter:/.test(b.name))continue;d=b.name.replace(/^twitter:/,""),c[d]=b.content}}function e(a){return c[a]}function f(a){return b.asBoolean(a)&&(c.dnt=!0),b.asBoolean(c.dnt)}var c;d(),a({init:d,val:e,dnt:f})})});provide("util/logger",function(a){function c(a){window[b]&&window[b].log&&window[b].log(a)}function d(a){window[b]&&window[b].warn&&window[b].warn(a)}function e(a){window[b]&&window[b].error&&window[b].error(a)}var b=["con","sole"].join("");a({info:c,warn:d,error:e})});provide("util/domready",function(a){function k(){b=1;for(var a=0,d=c.length;a<d;a++)c[a]()}var b=0,c=[],d,e,f=!1,g=document.createElement("a"),h="DOMContentLoaded",i="addEventListener",j="onreadystatechange";/^loade|c/.test(document.readyState)&&(b=1),document[i]&&document[i](h,e=function(){document.removeEventListener(h,e,f),k()},f),g.doScroll&&document.attachEvent(j,d=function(){/^c/.test(document.readyState)&&(document.detachEvent(j,d),k())});var l=g.doScroll?function(a){self!=top?b?a():c.push(a):!function(){try{g.doScroll("left")}catch(b){return setTimeout(function(){l(a)},50)}a()}()}:function(a){b?a():c.push(a)};a(l)});provide("util/env",function(a){using("util/domready","util/typevalidator","util/logger","tfw/util/globals",function(b,c,d,e){function j(){return(window.devicePixelRatio||Math.round(window.screen.availWidth/document.documentElement.clientWidth))>1}function k(){return/MSIE \d/.test(f)}function l(){return/MSIE 6/.test(f)}function m(){return/MSIE 7/.test(f)}function n(){return g}function o(){return"ontouchstart"in window||/Opera Mini/.test(f)||navigator.msMaxTouchPoints>0}function p(){var a=document.body.style;return a.transition!==undefined||a.webkitTransition!==undefined||a.mozTransition!==undefined||a.oTransition!==undefined||a.msTransition!==undefined}var f=window.navigator.userAgent,g=!1,h=!1,i="twitter-csp-test";twttr.verifyCSP=function(a){var b=document.getElementById(i);h=!0,g=!!a,b&&b.parentNode.removeChild(b)},b(function(){var a;if(l()||m())return g=!1;if(c.asBoolean(e.val("widgets:csp")))return g=!0;a=document.createElement("script"),a.id=i,a.text="twttr.verifyCSP(false);",document.body.appendChild(a),window.setTimeout(function(){if(h)return;d.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),d.warn("TWITTER: Please note: Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied.")},5e3)}),a({retina:j,anyIE:k,ie6:l,ie7:m,cspEnabled:n,touch:o,cssTransitions:p})})});provide("dom/sandbox",function(a){using("util/domready","util/env",function(b,c){function e(a,b){var c,d,e;if(a.name){try{e=document.createElement('<iframe name="'+a.name+'"></iframe>')}catch(f){e=document.createElement("iframe"),e.name=a.name}delete a.name}else e=document.createElement("iframe");a.id&&(e.id=a.id,delete a.id);for(c in a)a.hasOwnProperty(c)&&e.setAttribute(c,a[c]);e.allowtransparency="true",e.scrolling="no",e.setAttribute("frameBorder",0),e.setAttribute("allowTransparency",!0);for(d in b||{})b.hasOwnProperty(d)&&(e.style[d]=b[d]);return e}function f(a,b,c,d){var f;this.attrs=b||{},this.styles=c||{},this.appender=d,this.onReady=a,this.sandbox={},f=e(this.attrs,this.styles),f.onreadystatechange=f.onload=this.getCallback(this.onLoad),this.sandbox.frame=f,d?d(f):document.body.appendChild(f)}function g(a,c,d,e){b(function(){new f(a,c,d,e)})}var d=0;window.twttr||(window.twttr={}),window.twttr.sandbox||(window.twttr.sandbox={}),f.prototype.getCallback=function(a){var b=this,c=!1;return function(){c||(c=!0,a.call(b))}},f.prototype.registerCallback=function(a){var b="cb"+d++;return window.twttr.sandbox[b]=a,b},f.prototype.onLoad=function(){try{this.sandbox.frame.contentWindow.document}catch(a){this.setDocDomain();return}this.sandbox.win=this.sandbox.frame.contentWindow,this.sandbox.doc=this.sandbox.frame.contentWindow.document,this.writeStandardsDoc(),this.sandbox.body=this.sandbox.frame.contentWindow.document.body,this.onReady(this.sandbox)},f.prototype.setDocDomain=function(){var a,b=this.registerCallback(this.getCallback(this.onLoad));a=["javascript:",'document.write("");',"try { window.parent.document; }","catch (e) {",'document.domain="'+document.domain+'";',"}",'window.parent.twttr.sandbox["'+b+'"]();'].join(""),this.sandbox.frame.parentNode.removeChild(this.sandbox.frame),this.sandbox.frame=null,this.sandbox.frame=e(this.attrs,this.styles),this.sandbox.frame.src=a,this.appender?this.appender(this.sandbox.frame):document.body.appendChild(this.sandbox.frame)},f.prototype.writeStandardsDoc=function(){if(!c.anyIE()||c.cspEnabled())return;var a=["<!DOCTYPE html>","<html>","<head>","<scr","ipt>","try { window.parent.document; }",'catch (e) {document.domain="'+document.domain+'";}',"</scr","ipt>","</head>","<body></body>","</html>"].join("");this.sandbox.doc.write(a),this.sandbox.doc.close()},a(g)})});provide("dom/delegate",function(a){using("util/env",function(b){function e(a){var b=a.getAttribute("data-twitter-event-id");return b?b:(a.setAttribute("data-twitter-event-id",++d),d)}function f(a,b,c){var d=0,e=a&&a.length||0;for(d=0;d<e;d++)a[d].call(b,c)}function g(a,b,c){var d=c||a.target||a.srcElement,e=d.className.split(" "),h=0,i,j=e.length;for(;h<j;h++)f(b["."+e[h]],d,a);f(b[d.tagName],d,a);if(a.cease)return;d!==this&&g.call(this,a,b,d.parentElement||d.parentNode)}function h(a,b,c){if(a.addEventListener){a.addEventListener(b,function(d){g.call(a,d,c[b])},!1);return}a.attachEvent&&a.attachEvent("on"+b,function(){g.call(a,a.ownerDocument.parentWindow.event,c[b])})}function i(a,b,d,f){var g=e(a);c[g]=c[g]||{},c[g][b]||(c[g][b]={},h(a,b,c[g])),c[g][b][d]=c[g][b][d]||[],c[g][b][d].push(f)}function j(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,function(){c(window.event)})}function k(a,b,d){var f=e(b),h=c[f]&&c[f];g.call(b,{target:d},h[a])}function l(a){return n(a),m(a),!1}function m(a){a&&a.preventDefault?a.preventDefault():a.returnValue=!1}function n(a){a&&(a.cease=!0)&&a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}var c={},d=-1;a({stop:l,stopPropagation:n,preventDefault:m,delegate:i,on:j,simulate:k})})});provide("tfw/util/tracking",function(a){using("dom/cookie","dom/delegate","dom/sandbox","util/donottrack","tfw/util/guest_cookie","tfw/util/env","util/util","$xd/json2.js",function(b,c,d,e,f,g,h){function v(){s=document.getElementById("rufous-sandbox");if(s){r=s.contentWindow.document,q=r.body;return}d(function(a){s=a.frame,r=a.doc,q=a.doc.body,m=G(),n=H();while(o[0])A.apply(this,o.shift());p&&B()},{id:"rufous-sandbox"},{display:"none"})}function w(a,b,c,d){var e=!h.isObject(a),f=b?!h.isObject(b):!1,g,i;if(e||f)return;if(/Firefox/.test(navigator.userAgent))return;g=D(a),i=E(b,!!c,!!d),z(g,i,!0)}function x(a,c,d,i){var k=j[c],l,m,n=f.guest_id_cookie;if(!k)return;a=a||{},i=!!i,d=!!d,m=a.original_redirect_referrer||document.referrer,i=i||e(m),l=h.aug({},a),d||(y(l,"referrer",m),y(l,"widget",+g.isDynamicWidget()),y(l,"hask",+!!b("k")),y(l,"li",+!!b("twid")),y(l,n,b(n)||"")),i&&(y(l,"dnt",1),J(l)),I(k+"?"+F(l))}function y(a,b,c){var d=i+b;if(!a)return;return a[d]=c,a}function z(a,b,c){var d,e,f,g,i=t+"?";if(!h.isObject(a)||!h.isObject(b))return;f=h.aug({},b,{event_namespace:a}),c?(i+=F({l:K(f)}),I(i)):(d=m.firstChild,d.value=+d.value||+f.dnt,g=K(f),e=r.createElement("input"),e.type="hidden",e.name="l",e.value=g,m.appendChild(e))}function A(a,b,c,d){var e=!h.isObject(a),f=b?!h.isObject(b):!1,g,i;if(e||f)return;if(!q||!m){o.push([a,b,c,d]);return}g=D(a),i=E(b,!!c,!!d),z(g,i)}function B(){var a;if(!m){p=!0;return}if(m.children.length<=1)return;q.appendChild(m),q.appendChild(n),a=C(m,n),c.on(n,"load",function(){window.setTimeout(a,0)}),m.submit(),m=G(),n=H()}function C(a,b){return function(){var c=a.parentNode;if(!c)return;c.removeChild(a),c.removeChild(b)}}function D(a){return h.aug({client:"tfw"},a||{})}function E(a,b,c){var d={_category_:"tfw_client_event"},f,g;return b=!!b,c=!!c,f=h.aug(d,a||{}),g=f.widget_origin||document.referrer,f.format_version=1,f.dnt=c=c||e(g),f.triggered_on=f.triggered_on||+(new Date),b||(f.widget_origin=g),c&&J(f),f}function F(a){var b=[],c,d,e;for(c in a)a.hasOwnProperty(c)&&(d=encodeURIComponent(c),e=encodeURIComponent(a[c]),e=e.replace(/'/g,"%27"),b.push(d+"="+e));return b.join("&")}function G(){var a=r.createElement("form"),b=r.createElement("input"),c=r.createElement("input");return l++,a.action=t,a.method="POST",a.target="rufous-frame-"+l,a.id="rufous-form-"+l,b.type="hidden",b.name="dnt",b.value=0,c.type="hidden",c.name="tfw_redirect",c.value=u,a.appendChild(b),a.appendChild(c),a}function H(){var a,b="rufous-frame-"+l;try{a=r.createElement("<iframe name="+b+">")}catch(c){a=r.createElement("iframe"),a.name=b}return a.id=b,a.style.display="none",a.width=0,a.height=0,a.border=0,a}function I(a){var b=document.createElement("img");b.src=a,b.alt="",b.style.position="absolute",b.style.height="1px",b.style.width="1px",b.style.top="-9999px",b.style.left="-9999px",document.body.appendChild(b)}function J(a){var b;for(b in a)~h.indexOf(k,b)&&delete a[b]}function K(a){var b=Array.prototype.toJSON,c;return delete Array.prototype.toJSON,c=JSON.stringify(a),b&&(Array.prototype.toJSON=b),c}var i="twttr_",j={tweetbutton:"//p.twitter.com/t.gif",followbutton:"//p.twitter.com/f.gif",tweetembed:"//p.twitter.com/e.gif"},k=["hask","li","logged_in","pid","user_id",f.guest_id_cookie,i+"hask",i+"li",i+f.guest_id_cookie],l=0,m,n,o=[],p,q,r,s,t="https://twitter.com/i/jot",u="https://platform.twitter.com/jot.html";f.forceNewCookie(),a({enqueue:A,flush:B,initPostLogging:v,addPixel:w,addLegacyPixel:x,addVar:y})})});using("util/domready","util/util","util/querystring","util/params","tfw/util/tracking","tfw/util/guest_cookie","util/widgetrpc","util/twitter","i18n/languages",function(a,b,c,d,e,f,g,h,i){function C(a){k=a,m.innerHTML=I(k)}function D(){a(function(){if(p.url&&p.count!=="none"){var a=l.createElement("script");a.type="text/javascript",a.src=twttr.config.countURL+"?url="+c.encodePart(v)+"&callback=twttr.receiveCount",l.body.appendChild(a)}})}function E(){switch(p.type){case"hashtag":return _("Tweet %{hashtag}",{hashtag:"<b>#"+p.button_hashtag+"</b>"});case"mention":return _("Tweet to %{name}",{name:"<b>@"+p.screen_name+"</b>"});default:return _("Tweet")}}function F(){var a=l.getElementById("l");l.title=_("Tweet Button"),a.innerHTML=E()}function G(a,b){var c=a.id+"-desc",d=document.createElement("p");d.id=c,d.className="aria",d.innerHTML=b,l.body.appendChild(d),a.setAttribute("aria-describedby",c)}function H(a){var b="scrollbars=yes,resizable=yes,toolbar=no,location=yes",c=550,d=420,e=screen.height,f=screen.width,g=Math.round(f/2-c/2),h=0;return e>d&&(h=Math.round(e/2-d/2)),window.open(a,null,b+",width="+c+",height="+d+",left="+g+",top="+h)}function I(a){var b,c,d=parseInt(a,10),e=new RegExp("^\\"+_(",")),f={ja:1,ko:1};return isNaN(d)?"":d<1e4?d.toString().split("").reverse().join("").replace(/(\d{3})/g,"$1"+_(",")).split("").reverse().join("").replace(e,""):d<1e5?f[p.lang]?(c=(Math.floor(d/100)/100).toString(),c+_("10k unit")):(b=(Math.round(d/100)/10).toString(),b.replace(/\./,_("."))+_("K")):_("100K+")}function J(a){return a=a||window.event,a&&a.preventDefault?a.preventDefault():a.returnValue=!1,a&&a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,!1}function K(a){return a.replace(/(<)|(>)/g,function(a){var b;return a[0]==="<"?b="&lt;":b="&gt;",b})}function L(a){for(var b=0,c=a.length;b<c;b++)a[b]=K(a[b]);return a}function M(a,b){a.className+=" "+b}f.set(),twttr.config=b.aug({countURL:"//cdn.api.twitter.com/1/urls/count.json",intentURL:"https://twitter.com/intent/tweet"},twttr.config||{});var j="1.1",k=0,l=document,m=l.getElementById("count"),n=l.getElementById("b"),o,p=L(d.combined(l.location)),q={vertical:"vcount",horizontal:"hcount",none:"ncount"},r={l:"xl",m:"regular"},s=["share","mention","hashtag"],t=[],u,v,w,x,y,z,A,B;p.lang=p.lang&&p.lang.toLowerCase(),l.body.parentNode.lang=twttr.lang=p.lang=~b.indexOf(i,p.lang)?p.lang:"en",B=_("ltr"),twttr.receiveCount=function(a){typeof a.count=="number"&&(C(a.count),M(l.body,"count-ready"),a.count>0&&(m.title=_("This page has been shared %{tweets} times. View these Tweets.",{tweets:a.count}),G(m,m.title)))},p.type=~b.indexOf(s,p.type)?p.type:"share",p.size=r[p.size]?p.size:"m",M(l.documentElement,r[p.size]||""),p.align=="right"&&M(l.body,"right");if(p.type=="mention"||p.screen_name)(A=h.screenName(p.screen_name))?p.screen_name=A:(delete p.screen_name,p.type=="mention"&&(p.type="share",p.count="none"));p.type=="hashtag"||p.button_hashtag?((z=h.hashTag(p.button_hashtag,!1))?(p.button_hashtag=z,p.hashtags=p.button_hashtag+","+(p.hashtags||"")):(delete p.button_hashtag,p.type="share"),p.count="none"):p.type=="share"?(p.url=p.url||l.referrer,v=p.counturl||p.url,w=v&&"http://twitter.com/search?q="+c.encodePart(v),p.size=="l"&&p.count=="vertical"&&(p.count="none"),t.push(q[p.count]||"hcount"),D()):p.count="none",t.push(B),M(l.body,t.join(" ")),F(),M(l.body,"ready"),u={text:p.text,screen_name:p.screen_name,hashtags:p.hashtags,url:p.url,via:p.via,related:p.related,placeid:p.placeid,original_referer:l.referrer,partner:p.partner,tw_p:"tweetbutton"},x=twttr.config.intentURL+"?"+c.encode(u),y=p.dnt&&p.dnt.toLowerCase()==="true",e.addLegacyPixel(p,"tweetbutton",!1,y),e.addPixel({page:"button",section:p.type,action:"impression"},{language:p.lang,client_version:j+":"+p.size+(p.count!=="none"?":c":""),widget_origin:l.referrer},!1,y),m.href=w,n.href=x,n.onclick=function(a){return g.withHub({nohub:function(){H(x,p.id)},timeout:function(){H(x,p.id)},success:function(a){a.openIntent(x,p.id),a.trigger("click",{region:"tweet"},p.id)}}),J(a)},p.searchlink!="disabled"?(M(m.parentNode,"enabled"),m.onclick=function(a){a=a||window.event,g.withHub(function(a){a.trigger("click",{region:"tweetcount"},p.id)});if(a.altKey||a.shiftKey||a.metaKey)return;return window.open(w),J(a)}):m.onclick=function(a){J(a)}})});;